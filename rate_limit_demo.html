<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rate Limit Counter Demo</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        
        .demo-section {
            background: white;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .rate-limit-counter {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            border-radius: 15px;
            font-size: 16px;
            font-weight: 500;
            margin: 10px 10px 10px 0;
        }
        
        .rate-limit-ok {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .rate-limit-warning {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
        
        .rate-limit-danger {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .rate-limit-disabled {
            background: #e2e3e5;
            color: #6c757d;
            border: 1px solid #d6d8db;
        }
        
        .code {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="demo-section">
        <h1>ğŸš¦ Rate Limit Counter Demo</h1>
        <p>This demonstrates how the rate limit counter appears in different states:</p>
        
        <h3>No Rate Limiting (Redis Disabled)</h3>
        <div class="rate-limit-counter rate-limit-disabled">
            <span>âš¡</span>
            <span>Unlimited Requests</span>
        </div>
        <p><em>When Redis is not connected, rate limiting is disabled.</em></p>
        
        <h3>Rate Limiting Active</h3>
        
        <h4>âœ… Plenty of Requests Left (80%+)</h4>
        <div class="rate-limit-counter rate-limit-ok">
            <span>âœ…</span>
            <span>4/5 requests left (resets in 8h)</span>
        </div>
        
        <h4>âš ï¸ Getting Low (20-50%)</h4>
        <div class="rate-limit-counter rate-limit-warning">
            <span>âš ï¸</span>
            <span>2/5 requests left (resets in 3h)</span>
        </div>
        
        <div class="rate-limit-counter rate-limit-warning">
            <span>âš ï¸</span>
            <span>1/5 requests left (resets in 1h)</span>
        </div>
        
        <h4>ğŸš« Rate Limited (0 left)</h4>
        <div class="rate-limit-counter rate-limit-danger">
            <span>ğŸš«</span>
            <span>0/5 requests left (resets in 12h)</span>
        </div>
        
        <h3>ğŸ”§ Configuration</h3>
        <p>The rate limit counter updates automatically:</p>
        <ul>
            <li><strong>On page load</strong> - Shows current status</li>
            <li><strong>After each request</strong> - Decrements remaining count</li>
            <li><strong>Color coding</strong> - Green â†’ Yellow â†’ Red based on usage</li>
            <li><strong>Reset timer</strong> - Shows hours until midnight UTC reset</li>
        </ul>
        
        <div class="code">
Heroku Config Variables:
REDIS_URL=rediss://default:password@host:port
DAILY_LIMIT=5
ADMIN_TOKEN=your_secret_token
        </div>
        
        <h3>ğŸ“Š Rate Limit Headers</h3>
        <p>The server sends these headers with each response:</p>
        <div class="code">
X-RateLimit-Limit: 5
X-RateLimit-Remaining: 3
X-RateLimit-Reset: 1692144000
        </div>
        
        <h3>ğŸ¯ Real Application</h3>
        <p><a href="http://127.0.0.1:8001" target="_blank">Open YouTube Transcript Extractor â†’</a></p>
        <p><em>Try extracting a transcript to see the counter in action!</em></p>
    </div>
</body>
</html>